<!DOCTYPE html>
<html>
 <head>
    <title>USC Tutor Finder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap 
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>-->
    
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
     <link href="{{url_for('static',filename='styles/bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">
    <link href="{{url_for('static',filename='styles/css/styles.css')}}" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>

  <body>
    <script>
      /*
    function getQuery(){
              $.ajax({
            type: "GET",
            url: "/searchItem/{\"query\":\"0 INF\"}",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            success: function(data) {
                disp(data);
            }
        });

    }
    */


  //var query = document.getElementById('search').value;

        function disp(jsons){
            var i;
            for (i = 0; i < jsons.length; i++) { 
                var element=document.getElementById("disp");

                var para=document.createElement("p");
                var node=document.createTextNode("courseID: "+jsons[i].courseID);
                para.appendChild(node);
                element.appendChild(para);

                var para=document.createElement("p");
                var node=document.createTextNode("courseInstructors: "+jsons[i].courseInstructors);
                para.appendChild(node);
                element.appendChild(para);

                var para=document.createElement("p");
                var node=document.createTextNode("courseName: "+jsons[i].courseName);
                para.appendChild(node);
                element.appendChild(para); 
                
                var br=document.createElement("br");
                var j;
                var tutorDIV=document.createElement("div");
                var p=document.createElement("p");
                var node=document.createTextNode("Tutors available: ");
                tutorDIV.appendChild(br);
                p.appendChild(node);
                tutorDIV.appendChild(p)
                for(j=0;j<jsons[i].willToTutor.length;j++){
                  var checkBox = document.createElement("input");
                  var label = document.createElement("label");
                  checkBox.id="tutor0"+jsons[i].willToTutor+jsons[i].courseID+jsons[i].courseInstructors;
                  checkBox.type = "checkbox";
                  checkBox.value = jsons[i].willToTutor[j];
                  tutorDIV.appendChild(checkBox);
                  tutorDIV.appendChild(label);
                  label.appendChild(document.createTextNode(jsons[i].willToTutor[j]));
                }
                para.appendChild(tutorDIV);
                element.appendChild(para);
                element.appendChild(br);

                var willing=document.createElement("div");
                var p=document.createElement("p");                
                var willCheck = document.createElement("input");
                var label = document.createElement("label");
                willCheck.type = "checkbox";
                willCheck.id="will0"+jsons[i].courseID+jsons[i].courseInstructors;
                willCheck.onclick = function(){
                    alert(willCheck.id);
                };               
                willing.appendChild(willCheck);
                willing.appendChild(label);
                label.appendChild(document.createTextNode("Willing to tutor this course?"));
                willing.appendChild(br);  
                para.appendChild(willing);
                element.appendChild(para);
                element.appendChild(br);
            }
        }

          $(document).ready(function(){
                  $("button").click(function(){
                     alert("here");
                        $.ajax({
            type: "GET",
            url: "/searchItem/{\"query\":\"0 INF\"}",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            success: function(data) {
                disp(data);
            }
        });
    });
});
/*
                   $.ajax({
            type: "GET",
            url: "/searchItem/{\"query\":\"0 INF\"}",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            success: function(data) {
                disp(data);
            }
        });
*/
  </script>


    <div class="header">
       <div class="container">
          <div class="row">
             <div class="col-md-4">
                <!-- Logo -->
                <div class="logo">
                   <h1><a href="/">USC Tutor Finder</a></h1>
                </div>
              </div>

             <div class="col-md-3" >
              <div class="col-md-7">
                <form action="/hms/accommodations" method="GET">
                <div class="row">
                  <div class="col-sm-12">
                    <div class="input-group form" >
                         <input type="text" id ="search" class="form-control" placeholder="Search..." style="width: 200px;">
                         <span class="input-group-btn"  >
                           <!--<button class="btn btn-primary" onclick="getQuery()" type="button">Search</button>-->
                           <button class="btn btn-primary" type="button">Search</button>
                         </span>
                    </div>

                  </div>
                </div>
            </form>
             </div>
             </div>
            
             <div class="col-md-3">
              <ul class="nav navbar-nav">
                <li><a href="#" id="instructor">instructor</a></li>
                <li><a href="#" id="course_id">course id</a></li>
                <li><a href="#" id="course_name">course name</a></li>
              </ul>
            </div>

             <div class="col-md-2" style="float: right;">
                <div class="navbar navbar-inverse" role="banner">
                    <nav class="collapse navbar-collapse bs-navbar-collapse navbar-right" role="navigation">
                      <ul class="nav navbar-nav">
                        <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown">My Account <b class="caret"></b></a>
                          <ul class="dropdown-menu animated fadeInUp">
                            <li><a href="profile">Profile</a></li>
                            <li><a href="#">Signout</a></li>
                          </ul>
                        </li>
                      </ul>
                    </nav>
                </div>
             </div>


          </div>
       </div>
  </div>

 <div role="main" class="page-content container-fluid">
  <div class="row">
        



      <div>
        <h2>Search Results</h2>
        <p> hi: {{session.username}}</p>


    <div class="container">
      <div id="disp" class="jumbotron mt-3">        
      </div>
    </div>
    </div>
    </div>
  </div>


     <footer style="position:fixed; bottom:0;height:40px;width: 100%;">
            <div class="text-center">
               Copyright 2018 <a href=#>USC Tutor Finder</a>
            </div>
      </footer>

      
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster 
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../../../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>-->
    

  </body>
</html>
</html>
